import cantools
import can
import time

can_bus = can.interface.Bus(bustype='socketcan_ctypes',channel='can0', extended=False)

array_1 = [0x423]
array_2 = [0x367, 0x394, 0x3d3]
array_3 = [0x228, 0x351, 0x3bb, 0xba]
array_4 = [0x262, 0x2e4, 0x3e6]
array_5 = [0x1aa, 0x384, 0x386,]
array_6 = [0x283, 0x365, 0x366, 0x3e7]
array_7 = [0x24, 0x25, 0xaa, 0xb4, 0x1c4, 0x1d0, 0x1d2, 0x1d3, 0x223, 0x224, 0x260, 0x2c1, 0x320, 0x343, 0x344, 0x380, 0x381, 0x389, 0x38f, 0x399, 0x3a5, 0x3b0, 0x3b1, 0x3b7, 0x3bc, 0x3e8, 0x3e9, 0x3f9, 0x411, 0x412, 0x413, 0x414, 0x420, 0x45a, 0x489, 0x48a, 0x48b, 0x4ac, 0x4cb, 0x4d3, 0x4ff, 0x610, 0x611, 0x614, 0x615, 0x619, 0x61a, 0x620, 0x621, 0x622, 0x623, 0x624, 0x638, 0x63c, 0x63d, 0x640, 0x680, 0x6f3, 0x770, 0x778, 0x7c6, 0x7ce, 0x7e0, 0x7e1, 0x7e2, 0x7e3, 0x7e4, 0x7e5, 0x7e6, 0x7e7, 0x7e8]

data1 = [0x0]
data2 = [0x0, 0x0]
data3 = [0x0, 0x0, 0x0, 0x0]
data4 = [0x0, 0x0, 0x0, 0x0, 0x0]
data5 = [0x0, 0x0, 0x0, 0x0, 0x0, 0x0]
data6 = [0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]
data7 = [0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x90, 0x0]


while True:
    for i in range(1,8):
        addrlist = globals()["array_"+str(i)]
        data = globals()["data"+str(i)]
        for addr in addrlist:
            message = can.Message(arbitration_id=addr, data=data, extended_id=False)
            can_bus.send(message)
            print("sending id {} on bus: {}, vl: {}".format(addr, 1, data))
        time.sleep(0.01)
